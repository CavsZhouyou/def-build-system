Sending build context to Docker daemon  4.096kB
Step 1/10 : FROM node:latest as builder
 ---> 2f1ff44a8bb5
Step 2/10 : ENV PROJECT_ENV production
 ---> Running in e600ce640354
Removing intermediate container e600ce640354
 ---> cf3ce360b6c7
Step 3/10 : ENV NODE_ENV production
 ---> Running in 8386e835facb
Removing intermediate container 8386e835facb
 ---> 57db0cd0d52d
Step 4/10 : RUN git clone http://192.168.3.61:10080/taobao-fe/def-deploy-demo.git
 ---> Running in 8d4bbbb99110
[91mCloning into 'def-deploy-demo'...
[0mRemoving intermediate container 8d4bbbb99110
 ---> 1850010748e0
Step 5/10 : WORKDIR /def-deploy-demo
 ---> Running in 689df7141f5a
Removing intermediate container 689df7141f5a
 ---> 555ccab84402
Step 6/10 : RUN git checkout daily/0.0.1 && npm config set registry https://registry.npm.taobao.org/
 ---> Running in 6e85af1034a1
[91mSwitched to a new branch 'daily/0.0.1'
[0mBranch daily/0.0.1 set up to track remote branch daily/0.0.1 from origin.
Removing intermediate container 6e85af1034a1
 ---> 85863c2993fd
Step 7/10 : RUN npm install --production && npm run build
 ---> Running in b60347072ab5
[91mnpm WARN webpack-test@1.0.0 No repository field.
[0m[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.12 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.12: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
[0m[91m
[0madded 781 packages from 432 contributors in 20.184s

> webpack-test@1.0.0 build /def-deploy-demo
> webpack

[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`
[0mHash: d726a4d9a3b205b403ec
Version: webpack 4.41.1
Time: 2143ms
Built at: 04/16/2020 3:45:34 AM
               Asset        Size  Chunks                         Chunk Names
       ./css/app.css   753 bytes       0  [emitted]              app
./js/app.d726a4d9.js  1020 bytes       0  [emitted] [immutable]  app
          index.html    1.48 KiB          [emitted]              
Entrypoint app = ./css/app.css ./js/app.d726a4d9.js
[0] ./src/main.js 107 bytes {0} [built]
[1] ./src/style.css 39 bytes {0} [built]
    + 1 hidden module
Child html-webpack-plugin for "index.html":
     1 asset
    Entrypoint undefined = index.html
    [0] ./node_modules/html-webpack-plugin/lib/loader.js!./public/index.html 1.65 KiB {0} [built]
    [2] (webpack)/buildin/global.js 472 bytes {0} [built]
    [3] (webpack)/buildin/module.js 497 bytes {0} [built]
        + 1 hidden module
Child mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/postcss-loader/src/index.js!src/style.css:
    Entrypoint mini-css-extract-plugin = *
    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src!./src/style.css 938 bytes {0} [built]
        + 1 hidden module
Removing intermediate container b60347072ab5
 ---> 670b0b14db5b
Step 8/10 : FROM nginx:alpine
 ---> 48c8a7c47625
Step 9/10 : COPY --from=builder def-deploy-demo/dist /usr/share/nginx/html
 ---> Using cache
 ---> 4b8e2a63b549
Step 10/10 : COPY --from=builder def-deploy-demo/nginx /etc/nginx/conf.d
 ---> Using cache
 ---> 5f3071bb9665
Successfully built 5f3071bb9665
Successfully tagged 192.168.3.61:5000/taobao-fe/def-deploy-demo:0.0.1
The push refers to repository [192.168.3.61:5000/taobao-fe/def-deploy-demo]
8f00b550e370: Preparing
f34334100591: Preparing
1d98ebade1db: Preparing
531743b7098c: Preparing
8f00b550e370: Layer already exists
f34334100591: Layer already exists
531743b7098c: Layer already exists
1d98ebade1db: Layer already exists
0.0.1: digest: sha256:2ab5bde706f0526b9add144574df4c4c4c74d71d9a4a7b4a8077e17eca95e43f size: 1154
Deleted: sha256:670b0b14db5beecef2b44d3ae18601799e76cb482e419c5af991741069873da9
Deleted: sha256:4ea37878ffd3cd83ebead4904be70136ad31fab3e864e31252d0dbceee7d072f
Deleted: sha256:85863c2993fd8d85c1078e63ebc03cb302ca059e629c1579ad9581a67d0b421a
Deleted: sha256:e2989b42d732de2944e80da02f6f011ae54509abbae4e1fe3e6232b680b0f759
Deleted: sha256:555ccab84402dd44d9495fd255c0ebdc71424a2a3f7571f5fc42b36ab18c4500
Deleted: sha256:1850010748e01c72f7b38be47f0fd3ab8dd825e2f2065154cc951d76bc869528
Deleted: sha256:db5889bee57f5d3490d37d11a0f912c8d66947a174234a02115cbab55bce6c0a
Deleted: sha256:57db0cd0d52d5e11ec3dff7ed4d5c2eb114c315548e2927bf321531d1db4a112
Deleted: sha256:cf3ce360b6c7f950f42afe23dcf6f529bf19f1008c4622a48106b05c56871427
