Sending build context to Docker daemon  4.096kB
Step 1/10 : FROM node:latest as builder
 ---> 2f1ff44a8bb5
Step 2/10 : ENV PROJECT_ENV production
 ---> Running in 2374e0bc9e8c
Removing intermediate container 2374e0bc9e8c
 ---> caa4bd4b4e3b
Step 3/10 : ENV NODE_ENV production
 ---> Running in 1541cbc0c8f8
Removing intermediate container 1541cbc0c8f8
 ---> c7e6ec69990f
Step 4/10 : RUN git clone http://192.168.3.61:10080/taobao-fe/def-deploy-demo.git
 ---> Running in 61789053d900
[91mCloning into 'def-deploy-demo'...
[0mRemoving intermediate container 61789053d900
 ---> ed03a4d31949
Step 5/10 : WORKDIR /def-deploy-demo
 ---> Running in 2d68605ffb88
Removing intermediate container 2d68605ffb88
 ---> eb284c0d1451
Step 6/10 : RUN git checkout daily/0.0.1 && npm config set registry https://registry.npm.taobao.org/
 ---> Running in 84a434a8b203
[91mSwitched to a new branch 'daily/0.0.1'
[0mBranch daily/0.0.1 set up to track remote branch daily/0.0.1 from origin.
Removing intermediate container 84a434a8b203
 ---> 1abb92e0f0cb
Step 7/10 : RUN npm install --production && npm run build
 ---> Running in 5810e07dfcf3
[91mnpm WARN webpack-test@1.0.0 No repository field.
[0m[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.12 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.12: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
[0m[91m
[0madded 781 packages from 432 contributors in 20.717s

> webpack-test@1.0.0 build /def-deploy-demo
> webpack

[91mBrowserslist: caniuse-lite is outdated. Please run next command `npm update`
[0mHash: 21b89936ad7c7935d9e3
Version: webpack 4.41.1
Time: 2017ms
Built at: 04/16/2020 3:19:00 AM
               Asset        Size  Chunks                         Chunk Names
       ./css/app.css   753 bytes       0  [emitted]              app
./js/app.21b89936.js  1020 bytes       0  [emitted] [immutable]  app
          index.html    1.46 KiB          [emitted]              
Entrypoint app = ./css/app.css ./js/app.21b89936.js
[0] ./src/main.js 107 bytes {0} [built]
[1] ./src/style.css 39 bytes {0} [built]
    + 1 hidden module
Child html-webpack-plugin for "index.html":
     1 asset
    Entrypoint undefined = index.html
    [0] ./node_modules/html-webpack-plugin/lib/loader.js!./public/index.html 1.61 KiB {0} [built]
    [2] (webpack)/buildin/global.js 472 bytes {0} [built]
    [3] (webpack)/buildin/module.js 497 bytes {0} [built]
        + 1 hidden module
Child mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/postcss-loader/src/index.js!src/style.css:
    Entrypoint mini-css-extract-plugin = *
    [0] ./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src!./src/style.css 938 bytes {0} [built]
        + 1 hidden module
Removing intermediate container 5810e07dfcf3
 ---> 17d5c2ccfc8b
Step 8/10 : FROM nginx:alpine
 ---> 48c8a7c47625
Step 9/10 : COPY --from=builder def-deploy-demo/dist /usr/share/nginx/html
 ---> Using cache
 ---> 9a249e587fc3
Step 10/10 : COPY --from=builder def-deploy-demo/nginx /etc/nginx/conf.d
 ---> Using cache
 ---> ea681428f646
Successfully built ea681428f646
Successfully tagged 192.168.3.61:5000/taobao-fe/def-deploy-demo:0.0.1
The push refers to repository [192.168.3.61:5000/taobao-fe/def-deploy-demo]
4ce5e040f00b: Preparing
dad769489681: Preparing
1d98ebade1db: Preparing
531743b7098c: Preparing
4ce5e040f00b: Layer already exists
1d98ebade1db: Layer already exists
dad769489681: Layer already exists
531743b7098c: Layer already exists
0.0.1: digest: sha256:245b2fd6b08e12d87e755cd3a14692b42268f9bdaf4fbeb76447a1aa21e823a8 size: 1154
Deleted: sha256:17d5c2ccfc8b9131dc2214c332c1fb76f3669e77f4cc673be462ca1d9ff5e014
Deleted: sha256:6d7d5c94961a1fd59bdef488b0d24aaa7495052c452f8f33f84934c0a32eb897
Deleted: sha256:1abb92e0f0cbc4cccbdbac430110cae321a72eb38be3e4376bdcf1443b6fe175
Deleted: sha256:3a5af73e40eff3245678fb292b53e4cc48273d5b5e55a74e971110d425330f79
Deleted: sha256:eb284c0d14514a5a6268604dbbd11c148dfb61a8bcbbe0c812079df40cfa8596
Deleted: sha256:ed03a4d31949cc4941832230edf0210c96df102ef0ca4c7253d03e4c7da5165a
Deleted: sha256:98fd164d3ddd5e69d2ab90342dadba00a81a2d2c814940afcc78e91fa8d2f357
Deleted: sha256:c7e6ec69990f8ed043b97fc47d7917c5f9e749956d5d7c22465e4697339a307f
Deleted: sha256:caa4bd4b4e3b282d54e293d31ea12a95ba22e1069ca36ce7a3aef0a5daf6b950
